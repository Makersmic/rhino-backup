
[gcode_macro LEDOFF]
description: Turns off the specified LED
gcode:
  {% set led_pin = params.LED_PIN|default(printer.save_variables.variables.get("led_pin", "Umbilical_LED")) %}
  {% if led_pin not in printer %}
    RESPOND TYPE=error MSG="LED pin {led_pin} not found"
    { action_raise_error("Invalid LED pin") }
  {% endif %}
  SET_PIN PIN={led_pin} VALUE=0.00
  RESPOND MSG="Debug: LED {led_pin} turned off"

[gcode_macro LEDMIN]
gcode:  
  SET_PIN PIN=Umbilical_LED VALUE=.5

[gcode_macro LEDMAX]
gcode:  
  SET_PIN PIN=Umbilical_LED VALUE=1



[gcode_macro LEDFLASH]
gcode:
  SET_PIN PIN=Umbilical_LED VALUE=1.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=0.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=1.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=0.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=1.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=0.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=1.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=0.00
  G4 P150
  SET_PIN PIN=Umbilical_LED VALUE=1.00
